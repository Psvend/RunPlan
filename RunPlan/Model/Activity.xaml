<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:model ="clr-namespace:RunPlan.Data"
             xmlns:viewmodel ="clr-namespace:RunPlan.ViewModel"
             xmlns:ios="clr-namespace:Microsoft.Maui.Controls.PlatformConfiguration.iOSSpecific;assembly=Microsoft.Maui.Controls"
              ios:Page.UseSafeArea="True"
             x:DataType="viewmodel:ActivityViewModel"
             x:Class="RunPlan.Model.Activity"
             BackgroundColor="#8260DA">




    <ScrollView>
        <VerticalStackLayout Padding="30" Spacing="25">
            <!-- Back Button -->
            <ImageButton Source="back.png"
		                 Clicked="OnBackClicked"
		                 BackgroundColor="Transparent"
		                 HorizontalOptions="Start"
		                 HeightRequest="30"
                         WidthRequest="30"    
		                 Padding="0,0,0,10"/>
            <!-- Title -->
            <StackLayout Spacing="5">

                <Entry Text="{Binding ActivityName}"
				   FontSize="32"
				   TextColor="White"
				   FontAttributes="Bold"
				   HorizontalOptions="Center" />
            </StackLayout>

            <!-- Info Grid (2x2 Boxes) -->
            <Grid ColumnDefinitions="Auto,Auto" RowDefinitions="Auto,Auto" ColumnSpacing="20" RowSpacing="20" HorizontalOptions ="Center">

                <!-- Distance Box -->
                <Frame Grid.Row="0" Grid.Column="0"
				   BackgroundColor="#4E3689"
				   CornerRadius="12"
				   BorderColor="#4E3689"
				   HeightRequest="150"
				   WidthRequest="180"
				   HorizontalOptions="Center"
				   VerticalOptions="Center"
				   Padding="0"
				   HasShadow="False">
                    <Grid VerticalOptions="Center" HorizontalOptions="Center">
                        <VerticalStackLayout >
                            <Entry Text="{Binding DistanceText}"
							   FontSize="36"
							   WidthRequest="100"
							   Keyboard="Numeric"
							   HorizontalTextAlignment="Center"
							   TextColor="White"
							   BackgroundColor="Transparent" />
                            <Label Text="km"
							   FontSize="18"
							   TextColor="White"
							   HorizontalOptions="Center" />
                        </VerticalStackLayout>


                    </Grid>
                </Frame>



                <!-- Time Box -->
                <Frame Grid.Row="0" Grid.Column="1"
				   BackgroundColor="#4E3689"
				   CornerRadius="12"
				   BorderColor="#4E3689"
				   HeightRequest="150"
				   WidthRequest="180"
				   HorizontalOptions="Center"
				   VerticalOptions="Center"
				   Padding="0"
				   HasShadow="False">

                    <Grid VerticalOptions="Center" HorizontalOptions="Center">
                        <VerticalStackLayout >
                            <Entry Text="{Binding Time}"
							   FontSize="36"
							   WidthRequest="100"
							   Keyboard="Numeric"
							   HorizontalTextAlignment="Center"
							   TextColor="White"
							   BackgroundColor="Transparent" />
                            <Label Text="min"
							   FontSize="18"
							   TextColor="White"
							   HorizontalOptions="Center" />
                        </VerticalStackLayout>


                    </Grid>
                </Frame>







                <!-- Grade box -->
                <Frame Grid.Row="1" Grid.Column="1"
				   BackgroundColor="#4E3689"
				   CornerRadius="12"
				   BorderColor="#4E3689"
				   HeightRequest="150"
				   WidthRequest="180"
				   HorizontalOptions="Center"
				   VerticalOptions="Center"
				   Padding="0"
				   HasShadow="False">

                    <Grid VerticalOptions="Center" HorizontalOptions="Center">
                        <!-- Edit Mode -->
                        <VerticalStackLayout >
                            <Picker Title ="Diffeculties"
                            ItemsSource="{Binding diffeculties}"
                            SelectedItem="{Binding Grade}"
                            TitleColor="Gray"
                            TextColor="Black"
                            BackgroundColor="White"
                            FontSize="18"/>
                            <Label Text=""
							   FontSize="18"
							   TextColor="White"
							   HorizontalOptions="Center" />
                        </VerticalStackLayout>




                    </Grid>
                </Frame>




            </Grid>

            <!-- Description -->
            <Frame BackgroundColor="White"
               CornerRadius="15"
               Padding="20"
			   WidthRequest="390"
               HasShadow="False"
               VerticalOptions="Start">

                <VerticalStackLayout Spacing="10">

                    <Editor Text="{Binding Description}"
						TextColor="#4E3689"
						FontSize="16"
						AutoSize="TextChanges"
						HeightRequest="100"
						BackgroundColor="Transparent"
                        VerticalOptions="StartAndExpand"/>
                </VerticalStackLayout>
            </Frame>



        <Button Text="save Activity"
                Command="{Binding AddActivityCommand}"
                FontSize="18"
                TextColor="White"
                BackgroundColor="MediumPurple"
                CornerRadius="15"
                HorizontalOptions="Fill" />

        <Button Text="Start Tracking Automatically"
             Command="{Binding StartTrackingCommand}"
             BackgroundColor="DarkViolet"
            TextColor="White"
            CornerRadius="10" />
        <Button Text="Stop Tracking"
             Command="{Binding StopTrackingCommand}"
            BackgroundColor="Gray"
            TextColor="White"
            CornerRadius="10" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>




